# âš™ï¸ æ­¥éª¤ 3ï¼šé…ç½®ç¯å¢ƒ

## ğŸ¯ ç›®æ ‡
é…ç½®æ•°æ®åº“å’Œç¯å¢ƒå˜é‡ï¼Œå®‰è£…é¡¹ç›®ä¾èµ–ã€‚

## ğŸ“ æ“ä½œæ­¥éª¤

### å¿«é€Ÿé…ç½®ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰

```bash
# è¿è¡Œé…ç½®è„šæœ¬
./setup.sh
```

è„šæœ¬ä¼šæç¤ºæ‚¨è¾“å…¥ MySQL root å¯†ç ï¼Œç„¶åè‡ªåŠ¨å®Œæˆé…ç½®ã€‚

### æ‰‹åŠ¨é…ç½®æ­¥éª¤

#### 1. åˆ›å»ºæ•°æ®åº“

```bash
# ç™»å½• MySQL
mysql -u root -p

# åœ¨ MySQL ä¸­æ‰§è¡Œ
CREATE DATABASE stock_decision CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

#### 2. åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶

```bash
cd backend
cp env.example .env
```

#### 3. ç¼–è¾‘ç¯å¢ƒé…ç½®æ–‡ä»¶

ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ `backend/.env`ï¼š

```bash
nano backend/.env
# æˆ–
vim backend/.env
# æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
```

**ä¿®æ”¹ä»¥ä¸‹å†…å®¹**ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=ä½ çš„MySQLå¯†ç       # â† ä¿®æ”¹è¿™é‡Œ
DB_NAME=stock_decision

# Redisé…ç½®
REDIS_URL=redis://localhost:6379

# JWTå¯†é’¥ï¼ˆç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET=your_jwt_secret_key  # â† å»ºè®®ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²

# æœåŠ¡å™¨é…ç½®
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:5173

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
```

**ä¿å­˜å¹¶é€€å‡º**ï¼š
- nano: `Ctrl+X` â†’ `Y` â†’ `Enter`
- vim: `ESC` â†’ `:wq` â†’ `Enter`

#### 4. å®‰è£…é¡¹ç›®ä¾èµ–

```bash
# åç«¯ä¾èµ–
cd backend
npm install

# å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

## ğŸ”‘ ç”Ÿæˆ JWT Secretï¼ˆå¯é€‰ï¼‰

å¦‚æœè¦æ‰‹åŠ¨ç”Ÿæˆå®‰å…¨çš„ JWT Secretï¼š

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ openssl
openssl rand -hex 32

# æ–¹æ³•2ï¼šä½¿ç”¨ Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

å°†ç”Ÿæˆçš„ç»“æœæ›¿æ¢ `.env` æ–‡ä»¶ä¸­çš„ `JWT_SECRET`ã€‚

## âœ… éªŒè¯é…ç½®

### æ£€æŸ¥ç¯å¢ƒæ–‡ä»¶

```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la backend/.env

# æŸ¥çœ‹é…ç½®ï¼ˆä¸æ˜¾ç¤ºå¯†ç ï¼‰
cat backend/.env | grep -v PASSWORD
```

### æ£€æŸ¥ä¾èµ–å®‰è£…

```bash
# æ£€æŸ¥åç«¯ä¾èµ–
ls backend/node_modules

# æ£€æŸ¥å‰ç«¯ä¾èµ–
ls frontend/node_modules
```

## â­ï¸ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œè¿è¡Œï¼š
```bash
./start.sh
```

æˆ–ç»§ç»­æ­¥éª¤ 4ã€‚

## â“ å¸¸è§é—®é¢˜

### Q: npm install å¾ˆæ…¢ï¼Ÿ
A: 
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com

# å®‰è£…å®Œæˆåå¯ä»¥æ¢å¤
npm config set registry https://registry.npmjs.org
```

### Q: ç«¯å£å†²çªï¼Ÿ
A: ä¿®æ”¹ `backend/.env` ä¸­çš„ `PORT` å’Œ `FRONTEND_URL`

### Q: ä¾èµ–å®‰è£…å¤±è´¥ï¼Ÿ
A:
```bash
# æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm cache clean --force
npm install
```

---

**é…ç½®å®Œæˆåå‘Šè¯‰æˆ‘ï¼Œæˆ‘å°†ç»§ç»­æŒ‡å¯¼å¯åŠ¨æœåŠ¡ã€‚**

