# 🚀 步骤 4：启动服务

## 🎯 目标
启动前端和后端服务，验证系统运行。

## 📝 操作步骤

### 快速启动（使用脚本）

```bash
# 一键启动所有服务
./start.sh
```

脚本会自动：
1. 检查 Node.js 版本
2. 安装缺失的依赖
3. 启动后端服务（端口 5000）
4. 启动前端服务（端口 5173）

### 手动启动步骤

#### 方法一：使用脚本后台运行

```bash
# 给脚本添加执行权限
chmod +x start.sh

# 启动服务
./start.sh
```

#### 方法二：手动分别启动

**终端 1 - 启动后端**
```bash
cd backend
npm run dev
```

**终端 2 - 启动前端**
```bash
cd frontend
npm run dev
```

## ✅ 验证服务

### 1. 检查后端服务

打开浏览器访问：http://localhost:5000/health

应该看到：
```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

### 2. 检查前端服务

打开浏览器访问：http://localhost:5173

应该看到登录页面或仪表板。

### 3. 检查终端输出

**后端输出示例**：
```
[INFO] 服务器运行在端口 5000
[INFO] 数据库连接成功
[INFO] Redis连接成功
[INFO] WebSocket服务启动
[INFO] 定时任务启动
```

**前端输出示例**：
```
  VITE v5.0.8  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

## 🎯 功能测试

### 登录系统

1. 访问 http://localhost:5173
2. 点击"注册"创建账号
3. 使用用户名/邮箱登录

### 测试功能

1. ✅ **我的歌单**: 查看持仓股票
2. ✅ **持仓管理**: 添加/编辑股票
3. ✅ **数据分析**: 查看技术分析
4. ✅ **智能报表**: 生成报表
5. ✅ **AI决策**: 获取决策建议

## 🔧 服务管理

### 停止服务

**使用脚本启动的**：
```bash
# 按 Ctrl+C 停止所有服务
```

**手动启动的**：
```bash
# 在每个终端按 Ctrl+C
```

### 重启服务

```bash
# 停止服务后重新运行
./start.sh
```

### 查看服务状态

```bash
# 检查端口占用
lsof -i :5000  # 后端
lsof -i :5173  # 前端
```

## 🐛 问题排查

### 后端无法启动

**检查**：
1. MySQL 是否运行
2. Redis 是否运行
3. 端口 5000 是否被占用
4. `.env` 配置是否正确

**解决**：
```bash
# 查看错误日志
tail -f backend/logs/app.log

# 检查数据库连接
mysql -u root -p

# 检查 Redis 连接
redis-cli ping
```

### 前端无法启动

**检查**：
1. 后端服务是否运行
2. 端口 5173 是否被占用
3. 依赖是否完整安装

**解决**：
```bash
# 重新安装依赖
cd frontend
rm -rf node_modules
npm install

# 清除浏览器缓存
# Chrome: Ctrl+Shift+Delete
# 或使用无痕模式
```

### 页面空白

**检查**：
1. 浏览器控制台是否有错误
2. 后端 API 是否可访问
3. 网络请求是否成功

**解决**：
```bash
# 检查后端健康状态
curl http://localhost:5000/health

# 检查浏览器控制台
# F12 → Console
```

## ⏭️ 完成！

🎉 **恭喜！系统已成功启动！**

### 访问地址

- 📱 **前端**: http://localhost:5173
- 🔧 **后端**: http://localhost:5000
- 📊 **健康检查**: http://localhost:5000/health

### 常用操作

- ✅ 登录/注册账号
- ✅ 添加持仓股票
- ✅ 查看数据分析
- ✅ 生成智能报表
- ✅ 获取 AI 决策

### 停止服务

- 按 `Ctrl+C` 停止所有服务

---

**系统已就绪，可以开始使用了！** 🎵📈

有任何问题随时告诉我。

