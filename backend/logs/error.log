{"code":"ECONNREFUSED","errno":-61,"level":"error","message":"数据库连接失败: connect ECONNREFUSED ::1:3306","service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:3306\n    at Object.createConnectionPromise [as createConnection] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/promise.js:19:31)\n    at connectDB (/Users/hanagar/cursor/股票决策小程序/backend/src/config/database.ts:8:30)\n    at startServer (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:62:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:105:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 17:45:54"}
{"error":"访问令牌缺失","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 访问令牌缺失\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:24:13)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:175:3)","timestamp":"2025-10-27 17:51:39","url":"/api/portfolio/summary","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"无效的访问令牌","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 无效的访问令牌\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:44:12)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/index.js:175:3)","timestamp":"2025-10-27 17:52:22","url":"/api/portfolio/summary","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:15:31)","timestamp":"2025-10-27 18:01:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:15:31)","timestamp":"2025-10-27 18:01:49"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:22:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 18:01:49","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"生成投资决策失败: Table 'stock_decision.decisions' doesn't exist","service":"stock-decision-api","sql":"INSERT INTO decisions (id, user_id, decision_type, decision_data, created_at) VALUES (?, ?, ?, ?, NOW())","sqlMessage":"Table 'stock_decision.decisions' doesn't exist","sqlState":"42S02","stack":"Error: Table 'stock_decision.decisions' doesn't exist\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.saveDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:422:22)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:89:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:18:22)","timestamp":"2025-10-27 18:02:01"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:25:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 18:02:01","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_NO_SUCH_TABLE","errno":1146,"level":"error","message":"生成投资决策失败: Table 'stock_decision.decisions' doesn't exist","service":"stock-decision-api","sql":"INSERT INTO decisions (id, user_id, decision_type, decision_data, created_at) VALUES (?, ?, ?, ?, NOW())","sqlMessage":"Table 'stock_decision.decisions' doesn't exist","sqlState":"42S02","stack":"Error: Table 'stock_decision.decisions' doesn't exist\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.saveDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:422:22)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:89:18)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:18:22)","timestamp":"2025-10-27 18:02:01"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:25:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 18:02:01","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 18:53:37"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 18:53:37"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 18:53:37","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 18:53:37"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 18:53:37"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 18:53:37","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"ECONNREFUSED","errno":-61,"level":"error","message":"数据库连接失败: connect ECONNREFUSED ::1:3306","service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:3306\n    at Object.createConnectionPromise [as createConnection] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/promise.js:19:31)\n    at connectDB (/Users/hanagar/cursor/股票决策小程序/backend/src/config/database.ts:8:30)\n    at startServer (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:62:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:105:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)","timestamp":"2025-10-27 19:04:41"}
{"code":"ECONNREFUSED","errno":-61,"level":"error","message":"数据库连接失败: connect ECONNREFUSED ::1:3306","service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:3306\n    at Object.createConnectionPromise [as createConnection] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/promise.js:19:31)\n    at connectDB (/Users/hanagar/cursor/股票决策小程序/backend/src/config/database.ts:8:30)\n    at startServer (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:62:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:105:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)","timestamp":"2025-10-27 19:07:29"}
{"code":"ECONNREFUSED","errno":-61,"level":"error","message":"数据库连接失败: connect ECONNREFUSED ::1:3306","service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:3306\n    at Object.createConnectionPromise [as createConnection] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/promise.js:19:31)\n    at connectDB (/Users/hanagar/cursor/股票决策小程序/backend/src/config/database.ts:9:30)\n    at startServer (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:62:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/index.ts:105:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 19:07:46"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at Function.getPortfolioDiagnosis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:465:30)\n    at Function.generateDailyDecisionReport (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:154:34)\n    at Task.cron.schedule.timezone (/Users/hanagar/cursor/股票决策小程序/backend/src/services/cron.ts:93:9)","timestamp":"2025-10-27 20:00:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at Function.getPortfolioDiagnosis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:465:30)\n    at Function.generateDailyDecisionReport (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:154:34)\n    at Task.cron.schedule.timezone (/Users/hanagar/cursor/股票决策小程序/backend/src/services/cron.ts:93:9)","timestamp":"2025-10-27 20:00:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"持仓分类失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at Function.getPortfolioDiagnosis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:465:30)\n    at Function.generateDailyDecisionReport (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:154:34)\n    at Task.cron.schedule.timezone (/Users/hanagar/cursor/股票决策小程序/backend/src/services/cron.ts:93:9)","timestamp":"2025-10-27 20:00:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成日终决策报表失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at Function.getPortfolioDiagnosis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:465:30)\n    at Function.generateDailyDecisionReport (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:154:34)\n    at Task.cron.schedule.timezone (/Users/hanagar/cursor/股票决策小程序/backend/src/services/cron.ts:93:9)","timestamp":"2025-10-27 20:00:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"日终决策报表生成失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at Function.getPortfolioDiagnosis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:465:30)\n    at Function.generateDailyDecisionReport (/Users/hanagar/cursor/股票决策小程序/backend/src/services/reportGenerator.ts:154:34)\n    at Task.cron.schedule.timezone (/Users/hanagar/cursor/股票决策小程序/backend/src/services/cron.ts:93:9)","timestamp":"2025-10-27 20:00:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 20:31:20"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 20:31:20"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:31:20","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"Out of range value for column 'position_ratio' at row 1","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: Out of range value for column 'position_ratio' at row 1\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolio.ts:77:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:32:11","url":"/api/portfolio/positions","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 20:34:43"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 20:34:43"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 20:34:43"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 20:34:43"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:34:43","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:52","url":"/api/market/search?params%5Bname%5D=la","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:52","url":"/api/market/search?params%5Bname%5D=lan","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:52","url":"/api/market/search?params%5Bname%5D=lan%27s","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:53","url":"/api/market/search?params%5Bname%5D=lan%27si","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:53","url":"/api/market/search?params%5Bname%5D=lan%27si%27k","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:53","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:54","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke%27j","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:54","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke%27ji","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:55","url":"/api/market/search?params%5Bname%5D=%E8%93%9D%E6%80%9D%E7%A7%91%E6%8A%80","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:50:59","url":"/api/market/search?params%5Bname%5D=%E8%93%9D%E6%80%9D%E7%A7%91%E6%8A%80","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:29","url":"/api/market/search?params%5Bname%5D=la","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:30","url":"/api/market/search?params%5Bname%5D=lan","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:30","url":"/api/market/search?params%5Bname%5D=lan%27s","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:30","url":"/api/market/search?params%5Bname%5D=lan%27si","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:31","url":"/api/market/search?params%5Bname%5D=lan%27si%27k","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:31","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:31","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke%27j","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:31","url":"/api/market/search?params%5Bname%5D=lan%27si%27ke%27ji","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:32","url":"/api/market/search?params%5Bname%5D=%E8%93%9D%E6%80%9D%E7%A7%91%E6%8A%80","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:51:34","url":"/api/market/search?params%5Bname%5D=%E8%93%9D%E6%80%9D%E7%A7%91%E6%8A%80","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:13","url":"/api/market/search?params%5Bname%5D=ni","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:13","url":"/api/market/search?params%5Bname%5D=nin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:14","url":"/api/market/search?params%5Bname%5D=ning","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:14","url":"/api/market/search?params%5Bname%5D=ning%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:14","url":"/api/market/search?params%5Bname%5D=ning%27de","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:15","url":"/api/market/search?params%5Bname%5D=ning%27de%27s","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:15","url":"/api/market/search?params%5Bname%5D=ning%27de%27sh","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:15","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:16","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:16","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27da","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:16","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27dai","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:17","url":"/api/market/search?params%5Bname%5D=%E5%AE%81%E5%BE%B7%E6%97%B6%E4%BB%A3","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:52:19","url":"/api/market/search?params%5Bname%5D=%E5%AE%81%E5%BE%B7%E6%97%B6%E4%BB%A3","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:41","url":"/api/market/search?params%5Bname%5D=ni","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:41","url":"/api/market/search?params%5Bname%5D=nin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:41","url":"/api/market/search?params%5Bname%5D=ning","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:42","url":"/api/market/search?params%5Bname%5D=ning%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:42","url":"/api/market/search?params%5Bname%5D=ning%27de","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:44","url":"/api/market/search?params%5Bname%5D=%E5%AE%81%E5%BE%B7","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:48","url":"/api/market/search?params%5Bname%5D=ni","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:48","url":"/api/market/search?params%5Bname%5D=nin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:49","url":"/api/market/search?params%5Bname%5D=ning","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:49","url":"/api/market/search?params%5Bname%5D=ning%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:49","url":"/api/market/search?params%5Bname%5D=ning%27de","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:50","url":"/api/market/search?params%5Bname%5D=ning%27de%27s","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:50","url":"/api/market/search?params%5Bname%5D=ning%27de%27sh","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:50","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:51","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:51","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27da","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:51","url":"/api/market/search?params%5Bname%5D=ning%27de%27shi%27dai","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"股票名称是必填项","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 股票名称是必填项\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:43:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 20:56:52","url":"/api/market/search?params%5Bname%5D=%E5%AE%81%E5%BE%B7%E6%97%B6%E4%BB%A3","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ni","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ni\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:32","url":"/api/market/search?name=ni","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: nin","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: nin\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:32","url":"/api/market/search?name=nin","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:32","url":"/api/market/search?name=ning","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'd","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'd\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:33","url":"/api/market/search?name=ning%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:33","url":"/api/market/search?name=ning%27de","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de's","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de's\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:33","url":"/api/market/search?name=ning%27de%27s","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de'sh","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de'sh\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:34","url":"/api/market/search?name=ning%27de%27sh","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de'shi","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de'shi\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:34","url":"/api/market/search?name=ning%27de%27shi","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de'shi'd","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de'shi'd\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:34","url":"/api/market/search?name=ning%27de%27shi%27d","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de'shi'da","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de'shi'da\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:35","url":"/api/market/search?name=ning%27de%27shi%27da","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"error":"未找到股票: ning'de'shi'dai","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 未找到股票: ning'de'shi'dai\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/market.ts:66:11)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:50:21)\n    at Layer.handle [as handle_request] (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/express/lib/router/route.js:149:13)\n    at authenticateToken (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/auth.ts:41:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:43:35","url":"/api/market/search?name=ning%27de%27shi%27dai","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 21:44:28"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 21:44:28"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:44:28","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:34"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:34"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:34"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:34"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:44:34","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:53"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:53"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:53"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-27 21:44:53"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:44:53","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 21:44:57"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-27 21:44:57"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-27 21:44:57","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"level":"error","message":"Redis连接错误: Socket closed unexpectedly","service":"stock-decision-api","stack":"Error: Socket closed unexpectedly\n    at Socket.<anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/@redis/client/dist/lib/client/socket.js:194:118)\n    at Object.onceWrapper (node:events:629:26)\n    at Socket.emit (node:events:514:28)\n    at TCP.<anonymous> (node:net:323:12)","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:01"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:02"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:02"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:02"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:02"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:03"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:03"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:04"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:04"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:05"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:05"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:06"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:07"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:08"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:08"}
{"address":"::1","code":"ECONNREFUSED","errno":-61,"level":"error","message":"Redis连接错误: connect ECONNREFUSED ::1:6379","port":6379,"service":"stock-decision-api","stack":"Error: connect ECONNREFUSED ::1:6379\n    at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)\n    at __node_internal_exceptionWithHostPort (node:internal/errors:671:12)\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1495:16)","syscall":"connect","timestamp":"2025-10-27 21:49:09"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 15:41:25"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 15:41:25"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 15:41:25","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:59:30)","timestamp":"2025-10-28 15:41:46"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:59:30)","timestamp":"2025-10-28 15:41:46"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"持仓分类失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.classifyPosition (/Users/hanagar/cursor/股票决策小程序/backend/src/services/positionClassification.ts:29:25)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:59:30)","timestamp":"2025-10-28 15:41:46"}
{"error":"持仓分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 持仓分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:91:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 15:41:46","url":"/api/analysis/positions","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 15:42:24"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 15:42:24"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 15:42:24"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 15:42:24"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 15:42:24","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000002 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600000 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 15:42:30"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000002 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600000 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000858 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600000 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000858 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 002142 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 300015 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000858 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000002 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 002142 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 300015 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateRecommendationsForPool (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:307:21)\n    at Function.generateStrategyForTheme (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:211:29)\n    at Function.generatePortfolioStrategy (/Users/hanagar/cursor/股票决策小程序/backend/src/services/portfolioStrategy.ts:174:26)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/portfolioStrategy.ts:85:25)","timestamp":"2025-10-28 15:42:38"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 16:53:46"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 16:53:46"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 16:53:46","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 16:53:49"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 16:53:49","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000002 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600000 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 16:53:49"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 17:43:57"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:16:31)","timestamp":"2025-10-28 17:43:57"}
{"error":"技术分析获取失败","ip":"::1","level":"error","message":"API错误:","method":"GET","service":"stock-decision-api","stack":"Error: 技术分析获取失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/analysis.ts:23:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 17:43:57","url":"/api/analysis/technical/000001","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 17:44:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 17:44:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取日度时间序列数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 17:44:00"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成投资决策失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.getDailyTimeSeries (/Users/hanagar/cursor/股票决策小程序/backend/src/services/timeSeriesAnalysis.ts:63:27)\n    at Function.getTimeSeriesAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:120:26)\n    at Function.generateFinalDecision (/Users/hanagar/cursor/股票决策小程序/backend/src/services/decisionEngine.ts:63:34)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:19:22)","timestamp":"2025-10-28 17:44:00"}
{"error":"生成投资决策失败","ip":"::1","level":"error","message":"API错误:","method":"POST","service":"stock-decision-api","stack":"Error: 生成投资决策失败\n    at createError (/Users/hanagar/cursor/股票决策小程序/backend/src/middleware/errorHandler.ts:42:27)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/decisions.ts:26:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-28 17:44:00","url":"/api/decisions/generate","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000001 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 000002 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600000 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600036 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"获取历史数据失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"技术分析计算失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成智能仓位推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"生成 600519 推荐失败: Incorrect arguments to mysqld_stmt_execute","service":"stock-decision-api","sql":"SELECT * FROM stock_daily \n         WHERE stock_code = ? \n         ORDER BY trade_date DESC \n         LIMIT ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromiseConnection.execute (/Users/hanagar/cursor/股票决策小程序/backend/node_modules/mysql2/lib/promise/connection.js:47:22)\n    at Function.getStockHistory (/Users/hanagar/cursor/股票决策小程序/backend/src/services/dataProvider.ts:119:39)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Function.getTechnicalAnalysis (/Users/hanagar/cursor/股票决策小程序/backend/src/services/technicalAnalysis.ts:51:23)\n    at Function.generateRecommendation (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:91:33)\n    at Function.generateBatchRecommendations (/Users/hanagar/cursor/股票决策小程序/backend/src/services/smartPositionRecommendation.ts:837:32)\n    at <anonymous> (/Users/hanagar/cursor/股票决策小程序/backend/src/routes/smartRecommendation.ts:103:29)","timestamp":"2025-10-28 17:44:02"}
